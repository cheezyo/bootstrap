<p id="notice"><%= notice %></p>

<h1>Task Categories</h1>
<%= link_to 'New Task Category', new_task_category_path, :class => "btn btn-primary mt-2 mb-2" %>

<table class="table table-striped table-hover table-sm" id="dataTable" width="100%" cellspacing="0">
  <thead>
    <tr>
      <th>Category</th>
      <th>Active</th>
      <th>Completed</th>
    </tr>
  </thead>

  <tbody>
    <% @task_categories.each do |task_category| %>
      <tr>
        <td>
          <%= link_to task_category.category, task_category %>
          <%= link_to  edit_task_category_path(task_category) do %>
            <span><i class="fas fa-pen mr-2 ml-2" style="color:green;"></i></span>
          <% end %>
          <%= link_to  task_category, method: :delete, data: { confirm: 'Are you sure?' } do %>
            <span><i class="fas fa-minus-square mr-2 ml-2" style="color:red;"></i></span>
          <% end %>
          
        </td>
        <td><%= task_category.tasks.where(:done => false).count %></td>
        <td><%= task_category.tasks.where(:done => true).or(task_category.tasks.where(:done => nil)).count %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>


